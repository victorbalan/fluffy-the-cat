<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">

<dom-module id="game-page">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
      }
    </style>
    <canvas id="demoCanvas" width="[[dimension]]" height="[[dimension]]" style="border: 1px solid black;"></canvas>
    <button on-click="godmode">God mode</button>
  </template>
  <script src="levelmap.js"></script>
  <script src="level.js"></script>
  <script src="overlay.js"></script>
  <script src="intersections.js"></script>
  <script src="model/gameobject.js"></script>
  <script src="model/grass.js"></script>
  <script src="model/player.js"></script>
  <script src="model/wall.js"></script>
  <script src="https://code.createjs.com/easeljs-0.8.2.min.js"></script>
  <script>
    (function () {
      'use strict';

      Polymer({
        is: 'game-page',
        properties: {
          dimension: {
            value: 600
          }
        },
        ready: function () {
          var level = [
            ['s', 0, 0, 0, 0, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 0, 1, 1, 1, 1, 1],
            [1, 1, 1, 1, 0, 1, 1, 1, 1, 1],
            [1, 0, 0, 0, 0, 1, 1, 1, 1, 1],
            [1, 0, 1, 1, 0, 1, 1, 1, 1, 1],
            [1, 0, 0, 0, 0, 1, 1, 1, 1, 1],
            [1, 0, 1, 1, 0, 1, 1, 1, 1, 1],
            [1, 0, 0, 0, 0, 1, 1, 1, 1, 1],
            [1, 0, 1, 1, 0, 1, 1, 1, 1, 1],
            [1, 0, 1, 0, 0, 'f', 1, 1, 1, 1],
          ];
          var level2 = [
            ['s', 0, 1, 0, 0, 1],
            [1, 0, 1, 1, 0, 1],
            [1, 0, 1, 1, 0, 1],
            [1, 0, 0, 0, 0, 0],
            [1, 1, 1, 1, 0, 1],
            ['f', 0, 0, 0, 0, 1],
          ];

          var levels = [level, level2];
          this.game = new Level(this.$.demoCanvas, level, this.dimension);
          this.game.start();
        },
        godmode: function () {
          console.log('god')
          this.game.godMode();
        }
      });
    })();
  </script>
</dom-module>
